<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>AI Avatar - Orbital Circles</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"
            rel="stylesheet"
        />
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                background-color: #000;
                overflow: hidden;
                font-family:
                    "Inter",
                    -apple-system,
                    BlinkMacSystemFont,
                    "Segoe UI",
                    system-ui,
                    sans-serif;
                color: white;
            }

            canvas {
                display: block;
            }

            .controls-panel {
                position: fixed;
                top: 0;
                right: 0;
                width: 300px;
                height: 100vh;
                background: rgba(15, 15, 15, 0.98);
                backdrop-filter: blur(15px);
                border-left: 1px solid rgba(255, 255, 255, 0.08);
                padding: 30px 25px;
                overflow-y: auto;
                z-index: 10;
            }

            .control-section {
                margin-bottom: 0;
                padding: 20px 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            }

            .control-section:last-child {
                border-bottom: none;
            }

            .control-title {
                font-size: 13px;
                font-weight: 600;
                margin-bottom: 15px;
                color: rgba(255, 255, 255, 0.9);
                text-transform: uppercase;
                letter-spacing: 1.2px;
            }

            .control-row {
                display: flex;
                align-items: center;
                gap: 10px;
                margin-bottom: 8px;
            }

            .slider {
                flex: 1;
                -webkit-appearance: none;
                appearance: none;
                height: 6px;
                background: rgba(255, 255, 255, 0.2);
                border-radius: 3px;
                outline: none;
                cursor: pointer;
            }

            .slider::-webkit-slider-thumb {
                -webkit-appearance: none;
                appearance: none;
                width: 18px;
                height: 18px;
                background: #fff;
                border-radius: 50%;
                cursor: pointer;
                box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            }

            .slider::-moz-range-thumb {
                width: 18px;
                height: 18px;
                background: #fff;
                border-radius: 50%;
                cursor: pointer;
                border: none;
                box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            }

            .number-input {
                width: 60px;
                padding: 4px 8px;
                background: rgba(255, 255, 255, 0.1);
                border: 1px solid rgba(255, 255, 255, 0.2);
                border-radius: 4px;
                color: white;
                font-size: 12px;
                text-align: center;
            }

            .number-input:focus {
                outline: none;
                border-color: rgba(255, 255, 255, 0.5);
                background: rgba(255, 255, 255, 0.15);
            }

            .value-display {
                font-size: 11px;
                opacity: 0.6;
                margin-top: 4px;
            }

            .reset-button {
                width: 100%;
                padding: 12px;
                background: rgba(255, 255, 255, 0.08);
                border: 1px solid rgba(255, 255, 255, 0.15);
                border-radius: 8px;
                color: rgba(255, 255, 255, 0.9);
                font-size: 12px;
                cursor: pointer;
                text-transform: uppercase;
                letter-spacing: 1px;
                margin-top: 15px;
                transition: all 0.3s ease;
            }

            .reset-button:hover {
                background: rgba(255, 255, 255, 0.12);
                border-color: rgba(255, 255, 255, 0.25);
                transform: translateY(-1px);
            }

            .shape-tabs {
                display: flex;
                gap: 4px;
                width: 100%;
            }

            .shape-tab {
                flex: 1;
                padding: 8px 16px;
                background: rgba(255, 255, 255, 0.06);
                border: 1px solid rgba(255, 255, 255, 0.12);
                border-radius: 6px;
                color: rgba(255, 255, 255, 0.7);
                font-size: 11px;
                cursor: pointer;
                text-align: center;
                text-transform: uppercase;
                letter-spacing: 1px;
                transition: all 0.3s ease;
                user-select: none;
            }

            .shape-tab:hover {
                background: rgba(255, 255, 255, 0.1);
                border-color: rgba(255, 255, 255, 0.2);
                color: rgba(255, 255, 255, 0.9);
            }

            .shape-tab.active {
                background: rgba(255, 255, 255, 0.15);
                border-color: rgba(255, 255, 255, 0.3);
                color: white;
                font-weight: 600;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            }

            .color-list {
                display: flex;
                flex-wrap: wrap;
                gap: 8px;
                margin-bottom: 12px;
            }

            .color-item {
                display: flex;
                align-items: center;
                background: rgba(255, 255, 255, 0.06);
                border: 1px solid rgba(255, 255, 255, 0.12);
                border-radius: 8px;
                padding: 6px 10px;
                gap: 8px;
                font-size: 11px;
                transition: all 0.2s ease;
            }

            .color-item:hover {
                background: rgba(255, 255, 255, 0.1);
                border-color: rgba(255, 255, 255, 0.2);
            }

            .color-hex {
                cursor: pointer;
                padding: 2px 4px;
                border-radius: 3px;
                transition: background-color 0.2s;
                min-width: 50px;
            }

            .color-hex:hover {
                background: rgba(255, 255, 255, 0.08);
            }

            .color-hex-input {
                background: rgba(255, 255, 255, 0.2);
                border: 1px solid rgba(255, 255, 255, 0.4);
                border-radius: 3px;
                padding: 2px 4px;
                color: white;
                font-size: 11px;
                font-family: monospace;
                width: 65px;
            }

            .color-hex-input:focus {
                outline: none;
                border-color: rgba(255, 255, 255, 0.7);
                background: rgba(255, 255, 255, 0.25);
            }

            .color-swatch {
                width: 18px;
                height: 18px;
                border-radius: 50%;
                border: 1px solid rgba(255, 255, 255, 0.2);
                box-shadow: 0 0 8px rgba(0, 0, 0, 0.3);
            }

            .remove-color-btn {
                background: none;
                border: none;
                color: rgba(255, 255, 255, 0.7);
                cursor: pointer;
                font-size: 12px;
                padding: 0 2px;
                border-radius: 2px;
            }

            .remove-color-btn:hover {
                background: rgba(255, 0, 0, 0.3);
                color: white;
            }

            .color-controls {
                display: flex;
                gap: 8px;
                align-items: center;
                margin-bottom: 8px;
            }

            #colorPicker {
                width: 40px;
                height: 30px;
                border: 1px solid rgba(255, 255, 255, 0.2);
                border-radius: 4px;
                background: transparent;
                cursor: pointer;
            }

            .add-color-btn {
                flex: 1;
                padding: 8px 14px;
                background: rgba(255, 255, 255, 0.08);
                border: 1px solid rgba(255, 255, 255, 0.15);
                border-radius: 6px;
                color: rgba(255, 255, 255, 0.9);
                font-size: 11px;
                cursor: pointer;
                text-transform: uppercase;
                letter-spacing: 1px;
                transition: all 0.3s ease;
            }

            .add-color-btn:hover {
                background: rgba(255, 255, 255, 0.12);
                border-color: rgba(255, 255, 255, 0.25);
                transform: translateY(-1px);
            }

            .canvas-container {
                position: relative;
                width: calc(100vw - 300px);
                height: 100vh;
            }

            @media (max-width: 768px) {
                .controls-panel {
                    width: 100%;
                    height: auto;
                    position: relative;
                    max-height: 50vh;
                }

                .canvas-container {
                    width: 100vw;
                    height: 50vh;
                }
            }
        </style>
    </head>
    <body>
        <div class="canvas-container">
            <canvas id="orbitCanvas"></canvas>
        </div>

        <div class="controls-panel">
            <div class="control-section">
                <div class="control-title">Shape</div>
                <div class="shape-tabs">
                    <div
                        class="shape-tab active"
                        data-shape="0"
                        onclick="setShape(0)"
                    >
                        Circle
                    </div>
                    <div class="shape-tab" data-shape="1" onclick="setShape(1)">
                        Square
                    </div>
                </div>
            </div>

            <div class="control-section">
                <div class="control-title">Shape Count</div>
                <div class="control-row">
                    <input
                        type="range"
                        class="slider"
                        id="shapeCount"
                        min="1"
                        max="32"
                        value="6"
                    />
                    <input
                        type="number"
                        class="number-input"
                        id="shapeCountInput"
                        min="1"
                        max="32"
                        value="6"
                    />
                </div>
                <div class="value-display">
                    Current: <span id="shapeCountValue">6</span> shapes
                </div>
            </div>

            <div class="control-section" id="sizeControl">
                <div class="control-title">Size</div>
                <div class="control-row">
                    <input
                        type="range"
                        class="slider"
                        id="circleRadius"
                        min="2"
                        max="100"
                        value="40"
                    />
                    <input
                        type="number"
                        class="number-input"
                        id="circleRadiusInput"
                        min="2"
                        max="100"
                        value="40"
                    />
                </div>
                <div class="value-display">
                    Current: <span id="circleRadiusValue">40</span> pixels
                </div>
            </div>

            <div
                class="control-section"
                id="squareControls"
                style="display: none"
            >
                <div class="control-title">Square Width</div>
                <div class="control-row">
                    <input
                        type="range"
                        class="slider"
                        id="squareWidth"
                        min="2"
                        max="100"
                        value="40"
                    />
                    <input
                        type="number"
                        class="number-input"
                        id="squareWidthInput"
                        min="2"
                        max="100"
                        value="40"
                    />
                </div>
                <div class="value-display">
                    Current: <span id="squareWidthValue">40</span> pixels
                </div>
            </div>

            <div
                class="control-section"
                id="squareHeightSection"
                style="display: none"
            >
                <div class="control-title">Square Height</div>
                <div class="control-row">
                    <input
                        type="range"
                        class="slider"
                        id="squareHeight"
                        min="2"
                        max="100"
                        value="40"
                    />
                    <input
                        type="number"
                        class="number-input"
                        id="squareHeightInput"
                        min="2"
                        max="100"
                        value="40"
                    />
                </div>
                <div class="value-display">
                    Current: <span id="squareHeightValue">40</span> pixels
                </div>
            </div>

            <div class="control-section">
                <div class="control-title">Orbit Radius</div>
                <div class="control-row">
                    <input
                        type="range"
                        class="slider"
                        id="orbitRadius"
                        min="0"
                        max="300"
                        value="41"
                    />
                    <input
                        type="number"
                        class="number-input"
                        id="orbitRadiusInput"
                        min="0"
                        max="300"
                        value="41"
                    />
                </div>
                <div class="value-display">
                    Current: <span id="orbitRadiusValue">41</span> pixels
                </div>
            </div>

            <div class="control-section">
                <div class="control-title">Wiggle Amplitude</div>
                <div class="control-row">
                    <input
                        type="range"
                        class="slider"
                        id="wiggleAmplitude"
                        min="0"
                        max="20"
                        step="0.5"
                        value="6.5"
                    />
                    <input
                        type="number"
                        class="number-input"
                        id="wiggleAmplitudeInput"
                        min="0"
                        max="20"
                        step="0.5"
                        value="6.5"
                    />
                </div>
                <div class="value-display">
                    Current: <span id="wiggleAmplitudeValue">6.5</span> pixels
                </div>
            </div>

            <div class="control-section">
                <div class="control-title">Wiggle Speed</div>
                <div class="control-row">
                    <input
                        type="range"
                        class="slider"
                        id="wiggleSpeed"
                        min="0"
                        max="10"
                        step="0.1"
                        value="1"
                    />
                    <input
                        type="number"
                        class="number-input"
                        id="wiggleSpeedInput"
                        min="0"
                        max="10"
                        step="0.1"
                        value="1"
                    />
                </div>
                <div class="value-display">
                    Current: <span id="wiggleSpeedValue">1</span> speed
                </div>
            </div>

            <div class="control-section">
                <div class="control-title">Rotation Speed</div>
                <div class="control-row">
                    <input
                        type="range"
                        class="slider"
                        id="rotationSpeed"
                        min="0"
                        max="10"
                        step="0.1"
                        value="1"
                    />
                    <input
                        type="number"
                        class="number-input"
                        id="rotationSpeedInput"
                        min="0"
                        max="10"
                        step="0.1"
                        value="1"
                    />
                </div>
                <div class="value-display">
                    Current:
                    <span id="rotationSpeedValue">1</span> speed
                </div>
            </div>

            <div class="control-section">
                <div class="control-title">Blur Amount</div>
                <div class="control-row">
                    <input
                        type="range"
                        class="slider"
                        id="blurAmount"
                        min="0"
                        max="56"
                        step="0.5"
                        value="42"
                    />
                    <input
                        type="number"
                        class="number-input"
                        id="blurAmountInput"
                        min="0"
                        max="56"
                        step="0.5"
                        value="42"
                    />
                </div>
                <div class="value-display">
                    Current: <span id="blurAmountValue">42</span> pixels
                </div>
            </div>

            <div class="control-section">
                <div class="control-title">Orbit Offset</div>
                <div class="control-row">
                    <input
                        type="range"
                        class="slider"
                        id="orbitOffset"
                        min="0"
                        max="10"
                        step="0.5"
                        value="0"
                    />
                    <input
                        type="number"
                        class="number-input"
                        id="orbitOffsetInput"
                        min="0"
                        max="10"
                        step="0.5"
                        value="0"
                    />
                </div>
                <div class="value-display">
                    Current: <span id="orbitOffsetValue">0</span> randomness
                </div>
            </div>

            <div class="control-section">
                <div class="control-title">Colors</div>
                <div id="colorList" class="color-list">
                    <!-- Colors will be dynamically added here -->
                </div>
                <div class="color-controls">
                    <input type="color" id="colorPicker" value="#B300FF" />
                    <button class="add-color-btn" onclick="addColor()">
                        Add Color
                    </button>
                </div>
                <div class="value-display">
                    Current: <span id="colorCountValue">5</span> colors in
                    palette
                </div>
            </div>

            <button class="reset-button" onclick="resetToDefaults()">
                Reset to Defaults
            </button>

            <div class="control-section">
                <div class="control-title">Save & Load</div>
                <button
                    class="reset-button"
                    onclick="copyPreferences()"
                    style="margin-top: 0; margin-bottom: 15px"
                >
                    Copy Preferences
                </button>

                <div
                    class="control-title"
                    style="
                        margin-top: 15px;
                        margin-bottom: 8px;
                        font-size: 12px;
                    "
                >
                    Import
                </div>
                <textarea
                    id="importPreferences"
                    placeholder="Paste preferences JSON here..."
                    style="
                        width: 100%;
                        height: 80px;
                        background: rgba(255, 255, 255, 0.1);
                        border: 1px solid rgba(255, 255, 255, 0.2);
                        border-radius: 4px;
                        color: white;
                        padding: 8px;
                        font-size: 11px;
                        font-family: monospace;
                        resize: vertical;
                        margin-bottom: 8px;
                    "
                ></textarea>
                <button
                    class="reset-button"
                    onclick="importPreferences()"
                    style="margin-top: 0"
                >
                    Apply Preferences
                </button>
                <div class="value-display" style="margin-top: 8px">
                    Paste JSON config and click Apply
                </div>
            </div>
        </div>

        <script src="script.js"></script>
    </body>
</html>
